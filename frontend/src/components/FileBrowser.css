/* fb-table - modified
   - Keeps all columns visible on small screens via horizontal scroll
   - Supports both .cell.mtime and .cell.modified
   - Responsive column width adjustments (no hidden columns)
*/

/* Layout containers */
.file-browser{display:flex;flex-direction:column;gap:20px}
.file-browser-content{display:flex;gap:20px;align-items:flex-start}
.file-browser-content .fb-left,.file-browser-content .fb-right{flex:1;min-width:0}

/* Guide / left panel */
.fb-guide{background:#f5f9ff;border:1px solid #dce8f7;border-radius:12px;padding:20px;display:flex;flex-direction:column;gap:16px}
.guide-intro h2{margin:0;font-size:20px;font-weight:700;color:#0f2b46}
.guide-intro p{margin:6px 0 0;color:#486077;font-size:14px;line-height:1.4}
.fb-stepper{display:flex;flex-wrap:wrap;gap:12px}
.fb-stepper .step{flex:1 1 220px;display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:10px;border:1px dashed #c5d4ea;background:#fff;transition:border-color .2s,box-shadow .2s}
.fb-stepper .step.done{border-color:#7fc4a8;background:#f2fbf6}
.fb-stepper .step.active{border-color:#0a6ed1;box-shadow:0 0 0 2px rgba(10,110,209,.1)}
.fb-stepper .step-index{width:28px;height:28px;border-radius:50%;border:2px solid currentColor;display:flex;align-items:center;justify-content:center;font-weight:700;color:#0a6ed1;margin-top:2px}
.fb-stepper .step.done .step-index{color:#2e7d32}
.fb-stepper .step-label{font-weight:600;color:#0f2b46;text-transform:uppercase;font-size:11px;letter-spacing:.7px}
.fb-stepper .step-desc{font-size:13px;color:#465466;margin-top:2px;line-height:1.3}

/* Panels */
.fb-left{flex:1;min-width:0}
.fb-right{flex:1;min-width:0}

/* Path / filters */
.fb-path label{display:block;font-weight:600;margin-bottom:6px}
.fb-path-row{display:flex;gap:8px}
.fb-path-row input{flex:1;padding:8px;border:1px solid #ddd;border-radius:4px}
.fb-path-row button{padding:8px 12px}
.fb-error{color:#b00020;margin-top:8px}

/* Table container */
.fb-table{
  --col-name: 34%;
  --col-ext: 8%;
  --col-size: 12%;
  --col-modified: 24%;
  --col-slides: 8%;
  --col-action: 14%;
  --fb-min-width: 960px;
  margin-top:16px;
  border:1px solid #e3e7eb;
  border-radius:12px;
  overflow:hidden;
  background:#fff;
  box-shadow:0 6px 22px rgba(15,43,70,.08);
}

.fb-grid{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  font-size:13px;
  min-width:var(--fb-min-width);
  table-layout:fixed;
}
.fb-grid col.col-name{width:var(--col-name)}
.fb-grid col.col-ext{width:var(--col-ext)}
.fb-grid col.col-size{width:var(--col-size)}
.fb-grid col.col-modified{width:var(--col-modified)}
.fb-grid col.col-slides{width:var(--col-slides)}
.fb-grid col.col-action{width:var(--col-action)}
.fb-grid thead th{
  text-align:left;
  padding:12px 18px;
  background:#f7f9fa;
  border-bottom:1px solid #e2e6ea;
  font-weight:600;
  color:#333;
}
.fb-grid tbody td{
  padding:12px 18px;
  border-bottom:1px solid #f2f4f5;
}
.fb-grid tbody tr{cursor:pointer}
.fb-grid tbody tr:hover{background:#f9fbff}
.fb-grid tbody tr.selected{background:#eef5ff}
.fb-grid .cell{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.fb-grid .cell.name{font-weight:600;color:#111;letter-spacing:.1px}
.fb-grid thead th.th-name,
.fb-grid thead th.th-ext,
.fb-grid thead th.th-action,
.fb-grid thead th.th-size,
.fb-grid thead th.th-modified,
.fb-grid thead th.th-slides{ text-align:center; }
.fb-grid td.cell.ext,
.fb-grid td.cell.action{text-align:center}
.fb-grid td.cell.size,
.fb-grid td.cell.slides,
.fb-grid td.cell.mtime,
.fb-grid td.cell.modified{font-variant-numeric:tabular-nums;color:#1f2933;text-align:center}
.fb-grid .cell.name .file-name-text{display:inline-block;max-width:100%}
.fb-grid .state-row td{text-align:center;color:#6b7280;font-style:italic}

/* Filters */
.filter{width:100%;padding:6px;border:1px solid #ddd;border-radius:4px}
.size-filters{display:flex;gap:6px}

/* Body */
.fb-body{max-height:520px;overflow-y:auto;overflow-x:auto}

/* Repeated elements / other UI */
.file-browser{display:flex;gap:20px}
.fb-filter-bar{margin-top:14px;background:#ffffff;border:1px solid #e3e7eb;padding:18px;border-radius:12px;display:flex;flex-direction:column;gap:14px}
.filter-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));column-gap:18px;row-gap:14px}
.filter-group{display:flex;flex-direction:column;gap:6px}
.filter-group label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#555}
.filter-group select,.filter-group input{padding:8px 10px;border:1px solid #cbd2d8;border-radius:6px;font-size:13px;background:#fff}
.filter-group select:focus,.filter-group input:focus{outline:2px solid #0A6ED1;outline-offset:1px}
.filter-actions button{width:100%;padding:10px 14px;font-size:13px;border:1px solid #cfd6dc;background:#f5f7f9;border-radius:6px;font-weight:600;cursor:pointer;transition:background .2s}
.filter-actions button:hover{background:#eef2f5}
.fb-path-row input{padding:10px 12px}
.fb-path-row button{padding:10px 14px;font-size:13px}
.fb-table-meta{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #e3e7eb;background:#f8fafc;font-size:13px;color:#374151}
.fb-table-meta .meta-clear{border:none;background:transparent;color:#0a6ed1;font-weight:600;cursor:pointer}
.fb-table-meta .meta-clear:hover{text-decoration:underline}

/* Horizontal scroll container: allow scrolling on narrow screens */
.fb-hscroll{
  overflow-x:auto;
  overflow-y:visible;
  -webkit-overflow-scrolling: touch;
}

/* Action button style */
.cell.action .btn-customize{padding:8px 12px;font-size:12px;border:none;background:#0a6ed1;color:#fff;border-radius:20px;cursor:pointer;font-weight:600;box-shadow:0 5px 14px rgba(10,110,209,.25)}
.cell.action .btn-customize:hover{background:#084f97}
.preview-header .actions .btn-customize{padding:8px 14px;border:none;background:#0a6ed1;color:#fff;border-radius:6px;font-weight:600;cursor:pointer}
.preview-header .actions .btn-customize:hover{background:#084f97}
.cell.mtime{font-size:12px;color:#444}
.fb-error{font-size:12px}

/* Provide horizontal scroll fallback on wide and medium screens.
   Keep a reasonable min-width so columns maintain their sizes before scrolling. */
.fb-hscroll{overflow-x:auto}

@media (max-width: 1200px){
  .fb-table{
    --col-name: 32%;
    --col-ext: 8%;
    --col-size: 12%;
    --col-modified: 24%;
    --col-slides: 8%;
    --col-action: 16%;
    --fb-min-width: 900px;
  }
}

/* Laptop and smaller: do not hide columns; compress columns and allow scroll */
@media (max-width: 1024px){
  .fb-table{
    --col-name: 30%;
    --col-ext: 8%;
    --col-size: 12%;
    --col-modified: 26%;
    --col-slides: 8%;
    --col-action: 16%;
    --fb-min-width: 820px;
  }

  /* Make font slightly smaller to fit more content */
  .fb-grid thead th,
  .fb-grid tbody td{font-size:13px;padding:10px 12px}

  /* Ensure horizontal scrolling is available on small devices */
  .fb-hscroll{overflow-x:auto; -webkit-overflow-scrolling: touch;}
}

/* Very small screens: further compression but still show all columns via scroll */
@media (max-width: 480px){
  .fb-table{
    --col-name: 28%;
    --col-ext: 8%;
    --col-size: 12%;
    --col-modified: 28%;
    --col-slides: 8%;
    --col-action: 16%;
    --fb-min-width: 720px;
  }
  .fb-grid thead th,
  .fb-grid tbody td{font-size:12px;padding:8px 10px}
}

/* Utility: if you ever want to hide less-critical columns, use a helper class on the container:
   Add class "collapse-small" to .fb-hscroll to hide size/modified/slides without changing CSS below.
   (Kept commented so you can enable later if desired.)

.fb-hscroll.collapse-small .th-size,
.fb-hscroll.collapse-small .th-modified,
.fb-hscroll.collapse-small .th-slides,
.fb-hscroll.collapse-small .cell.size,
.fb-hscroll.collapse-small .cell.modified,
.fb-hscroll.collapse-small .cell.mtime,
.fb-hscroll.collapse-small .cell.slides {
  display: none;
}
*/

/* Minor extras */
.state-row td{font-style:italic}
.preview-panel{border:1px solid #e5e5e5;border-radius:6px;display:flex;flex-direction:column;min-height:600px}
.preview-header{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#fafafa;border-bottom:1px solid #eee}
.preview-header .title{font-weight:600}
.preview-header .actions button{padding:6px 10px}
.preview-body{padding:12px;flex:1;overflow:auto}
.placeholder{color:#777}
.slide-plain{display:flex;flex-direction:column;gap:10px}
.slide-toolbar{display:flex;gap:10px;align-items:center}
.slide-content{border:1px solid #ddd;border-radius:4px;padding:12px;background:#fff}
.slide-title{font-size:16px;font-weight:600;margin-bottom:8px}
.slide-texts pre{white-space:pre-wrap;margin:0 0 8px 0;font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;}
@media (max-width: 1100px){
  .file-browser-content{flex-direction:column}
  .fb-right{width:100%}
}
